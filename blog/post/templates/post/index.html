{% extends 'post/base.html' %}
{% block content %}

<div class="row">
    <div class="col-12">
        <label>Мои посты
            <input id="my_posts" type="checkbox"/>
        </label>
    </div>
</div>
<div>

    {% for post in posts %}
        <ul class="list-group">
            <li class="list-group-item">
                <div class="row">
                    <div class="col-md-4">
                        <blockquote class="blockquote">
                            <a href="{% url 'view_post' post.id %}">
                                {{ post.title }}
                            </a>
                            <footer class="blockquote-footer font-italic footer_list">
                                <span>{{ post.user }}</span>
                                <span>{{ post.date|date:"d E Y f" }}</span>
                            </footer>
                        </blockquote>
                    </div>
                    <div class="col-md-4">
                        {% if post.user == user %}
                        <span>
                            <a href="{% url 'view_edit' post.id %}">Редактировать</a>
                        </span>
                    </div>
                    <div class="col-md-4">
                        <span>
                            <a href="#" onclick="removePost({;{ post.id }}) return false;">Удалить</a>
                        </span>
                        {% endif %}
                    </div>
                </div>
            </li>
        </ul>
    {% endfor %}

    <div class="row">
        <div class="col-md-2 page-info">
            <span>Страница {{ page_number}}</span>
        </div>
        <div class="col-md-2 page-info">
            <span>Постов {{ count }}</span>
        </div>
    </div>

    <nav aria-label="Search results pages">
        <div class="nav_pag">
            <ul class="pagination">
            {% if page_previous > 0 %}
                <li class="page-item">
                    <!--<a class="page-link" href="{% url 'view_posts' %}?page={{ page_previous }}">Предыдущая страница</a>-->
                    <a class="page-link" href="#" data-page="{{ page_previous }}">Предыдущая страница</a>
                </li>
            {% endif %}
            {% if page_next %}
                <li class="page-item">
                    <!--<a class="page-link" href="{% url 'view_posts' %}?page={{ page_next }}">Следующая страница</a>-->
                    <a class="page-link" href="#" data-page="{{ page_next }}">Следующая страница</a>
                </li>
            {% endif %}
            </ul>
        </div>
    </nav>

</div>


<script>
    window.onload = function () {
        attachMyPosts();
        attachDataPage();
    };
</script>
{% endblock %}
